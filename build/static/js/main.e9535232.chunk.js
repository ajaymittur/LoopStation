(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={normal:"controlButton_normal__20N-_",clicked:"controlButton_clicked__3RFJz"}},13:function(e,t,a){e.exports=a.p+"static/media/tamborine_100bpm.c6436106.mp3"},14:function(e,t,a){e.exports=a(22)},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),r=a.n(l),i=a(2),s=a(3),c=a(5),u=a(4),d=a(6),h=a(1),m=a.n(h),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){a.props.handleClick(),a.setState(function(e){return{style:e.style===m.a.normal?m.a.clicked:m.a.normal,mode:"Play All"===e.mode?"Pause All":"Play All"}})},a.state={style:m.a.normal,mode:"Play All"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.reset&&this.setState({style:m.a.normal,mode:"Play All"})}},{key:"render",value:function(){return o.a.createElement("button",{type:"button",className:this.state.style,onClick:this.handleClick},this.state.mode)}}]),t}(o.a.Component),f=a(8),y=a.n(f),b=a(12),k=a(13),C=a.n(k),P=function(){function e(t){var a=this;Object(i.a)(this,e),this.initialize=function(e){e?a.audio=new Audio(C.a):navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){a.recorder=new MediaRecorder(e),a.recorder.ondataavailable=function(e){a.audioChunks.push(e.data)},a.recorder.onstop=function(){var e=new Blob(a.audioChunks),t=URL.createObjectURL(e);console.log(e,t),a.audio.src=a.audioSrc=t,a.audio.loop=!0,a.audioChunks=[]}}).catch(function(e){return console.log(e)})},this.record=function(){a.recorder.start()},this.stop=function(){a.recorder.stop()},this.play=function(){return a.playPromise=a.audio.play(),a.playPromise},this.pause=function(){a.playPromise.then(function(){return a.audio.pause()}).catch(function(e){return console.log(e.name+": "+e.message)})},this.clear=function(){a.audio.src=null},this.load=function(){a.audio.load()},this.recorder=null,this.audioChunks=[],this.audio=new Audio,this.audioSrc=null,this.playPromise=null,this.initialize(t)}return Object(s.a)(e,[{key:"tempo",value:function(e){var t=e/100;console.log(t),this.audio.playbackRate=t}}]),e}(),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){a.setState(function(e){return{style:e.style===m.a.normal?m.a.clicked:m.a.normal}}),a.state.style===m.a.normal?a.tempoPlayer.play().catch(function(e){return console.log(e.name+": "+e.message)}):(a.tempoPlayer.load(),a.tempoPlayer.tempo(a.state.bpms[0]))},a.handleDoubleClick=Object(b.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState(function(e){return e.bpms.push(e.bpms.shift()),{style:m.a.normal,bpms:e.bpms}});case 2:a.tempoPlayer.load(),a.tempoPlayer.tempo(a.state.bpms[0]);case 4:case"end":return e.stop()}},e)})),a.state={style:m.a.normal,bpms:[100,120,140,60,80]},a.tempoPlayer=new P(!0),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{type:"button",className:this.state.style,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},"Tempo",o.a.createElement("p",null,this.state.bpms[0]))}}]),t}(o.a.Component),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){a.props.handleClick()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{type:"button",className:m.a.normal,onClick:this.handleClick},"Clear All")}}]),t}(o.a.Component),O=a(9),g=a(7),A=a.n(g),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).checkSoundMethodToCall=function(){return new Promise(function(e,t){"Record"===a.state.mode?e(a.audioManager.record):"Stop"===a.state.mode?e(a.audioManager.stop):"Play"===a.state.mode?e(a.audioManager.play):"Pause"===a.state.mode?e(a.audioManager.pause):t(Error("Error: Incorrect Button Mode"))})},a.handleSingleClick=function(){a.checkSoundMethodToCall().then(function(e){return e()}).catch(function(e){return console.log(e.name+": "+e.message)}),a.setState(function(e){var t,a=e.modes.shift();if("Pause"!==a)e.modes.push(a),t=e.modes;else{var n=e.modes.pop();e.modes.unshift(a),e.modes.unshift(n),t=e.modes}return{id:e.id,style:e.style===A.a.normal?A.a.clicked:A.a.normal,modes:t,mode:t[0]}})},a.handleDoubleClick=function(){a.audioManager.clear(),a.setState(function(){return{style:A.a.normal,modes:Object(O.a)(a.initialModes),mode:a.initialModes[0]}})},a.initialModes=["Record","Stop","Play","Pause"],a.audioManager=new P,a.state={style:A.a.normal,modes:Object(O.a)(a.initialModes),mode:a.initialModes[0]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.shouldPlayAll?(this.setState(function(){return{style:A.a.clicked,modes:["Pause","Record","Stop","Play"],mode:"Pause"}}),null!==this.audioManager.audioSrc&&this.audioManager.play().catch(function(e){return console.log(e.name+": "+e.message)})):e.shouldPlayAll||"Record"===this.state.mode||e.shouldClearAll?e.shouldClearAll&&this.handleDoubleClick():(this.setState(function(){return{style:A.a.normal,modes:["Play","Pause","Record","Stop"],mode:"Play"}}),null!==this.audioManager.audioSrc&&this.audioManager.play().then(function(){return t.audioManager.pause()}).catch(function(e){return console.log(e.name+": "+e.message)}))}},{key:"render",value:function(){return o.a.createElement("button",{type:"button",className:this.state.style,onClick:this.handleSingleClick,onDoubleClick:this.handleDoubleClick},this.state.mode)}}]),t}(o.a.Component),M=(a(21),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).playPauseAll=function(){e.setState(function(e){return{shouldPlayAll:!e.shouldPlayAll,shouldClearAll:!1}})},e.clearAll=function(){e.setState(function(e){return{shouldPlayAll:!1,shouldClearAll:!e.shouldClearAll}})},e.loop_button_ids=[1,2,3,4],e.state={shouldPlayAll:!1,shouldClearAll:!1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"main-wrapper"},o.a.createElement("div",{id:"control-buttons-wrapper"},o.a.createElement(p,{handleClick:this.playPauseAll,reset:this.state.shouldClearAll}),o.a.createElement(j,null),o.a.createElement(v,{handleClick:this.clearAll})),o.a.createElement("div",{id:"loop-buttons-wrapper"},this.loop_button_ids.map(function(t){return o.a.createElement(S,{key:t,shouldPlayAll:e.state.shouldPlayAll,shouldClearAll:e.state.shouldClearAll})})))}}]),t}(o.a.Component));r.a.render(o.a.createElement(M,null),document.getElementById("root"))},7:function(e,t,a){e.exports={normal:"loopButton_normal__1X08w",clicked:"loopButton_clicked__2Dndn"}}},[[14,1,2]]]);
//# sourceMappingURL=main.e9535232.chunk.js.map